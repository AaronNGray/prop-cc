///////////////////////////////////////////////////////////////////////////////
//  This file is generated automatically using Prop (version 2.3.8),
//  last updated on Sep 16, 2005.
//  The original source file is "..\..\prop-src\logicgen.ph".
///////////////////////////////////////////////////////////////////////////////

#line 1 "../../prop-src/logicgen.ph"
///////////////////////////////////////////////////////////////////////////////
//
//  This file describes the interface of the constraint logic compiler
//  internals.
//
///////////////////////////////////////////////////////////////////////////////

#ifndef constraint_logic_compiler_h
#define constraint_logic_compiler_h

#include "hashtab.h"

///////////////////////////////////////////////////////////////////////////////
//
//  Forward datatype declarations
//
///////////////////////////////////////////////////////////////////////////////

#line 19 "../../prop-src/logicgen.ph"
#line 27 "../../prop-src/logicgen.ph"
///////////////////////////////////////////////////////////////////////////////
//
// Forward class definition for Ty
//
///////////////////////////////////////////////////////////////////////////////
#ifndef datatype_Ty_defined
#define datatype_Ty_defined
  class a_Ty;
  typedef a_Ty * Ty;
#endif

///////////////////////////////////////////////////////////////////////////////
//
// Forward class definition for Pat
//
///////////////////////////////////////////////////////////////////////////////
#ifndef datatype_Pat_defined
#define datatype_Pat_defined
  class a_Pat;
  typedef a_Pat * Pat;
#endif

///////////////////////////////////////////////////////////////////////////////
//
// Forward class definition for Exp
//
///////////////////////////////////////////////////////////////////////////////
#ifndef datatype_Exp_defined
#define datatype_Exp_defined
  class a_Exp;
  typedef a_Exp * Exp;
#endif

///////////////////////////////////////////////////////////////////////////////
//
// Forward class definition for Decl
//
///////////////////////////////////////////////////////////////////////////////
#ifndef datatype_Decl_defined
#define datatype_Decl_defined
  class a_Decl;
  typedef a_Decl * Decl;
#endif

///////////////////////////////////////////////////////////////////////////////
//
// Forward class definition for Def
//
///////////////////////////////////////////////////////////////////////////////
#ifndef datatype_Def_defined
#define datatype_Def_defined
  class a_Def;
  typedef a_Def * Def;
#endif

///////////////////////////////////////////////////////////////////////////////
//
// Forward class definition for Stmt
//
///////////////////////////////////////////////////////////////////////////////
#ifndef datatype_Stmt_defined
#define datatype_Stmt_defined
  class a_Stmt;
  typedef a_Stmt * Stmt;
#endif

///////////////////////////////////////////////////////////////////////////////
//
// Forward class definition for Instness
//
///////////////////////////////////////////////////////////////////////////////
#ifndef datatype_Instness_defined
#define datatype_Instness_defined
  class a_Instness;
  typedef a_Instness * Instness;
#endif

///////////////////////////////////////////////////////////////////////////////
//
// Forward class definition for Determinism
//
///////////////////////////////////////////////////////////////////////////////
#ifndef datatype_Determinism_defined
#define datatype_Determinism_defined
  class a_Determinism;
  typedef a_Determinism * Determinism;
#endif

#line 27 "../../prop-src/logicgen.ph"
#line 27 "../../prop-src/logicgen.ph"


///////////////////////////////////////////////////////////////////////////////
//
//  Internals of the constraint compiler.
//
///////////////////////////////////////////////////////////////////////////////

class ConstraintCompilerInternal
{  // Unimplemented
  ConstraintCompilerInternal (const ConstraintCompilerInternal&);
  void operator = (const ConstraintCompilerInternal&);

  friend class ConstraintCompiler;

  Id class_name;
  ////////////////////////////////////////////////////////////////////////////
  //
  //  Internal maps.
  //
  ////////////////////////////////////////////////////////////////////////////
  HashTable rule_map;        // mapping from functor name to clauses
  HashTable typing_map;      // mapping from functor name to type
  HashTable instness_map;    // mapping from id to instness type
  HashTable det_map;         // mapping from id to determinism.

public:
  ////////////////////////////////////////////////////////////////////////////
  //
  //  Constructor and destructor
  //
  ////////////////////////////////////////////////////////////////////////////
  ConstraintCompilerInternal(Id);
  ~ConstraintCompilerInternal();
};

#endif
#line 64 "../../prop-src/logicgen.ph"
/*
------------------------------- Statistics -------------------------------
Merge matching rules         = yes
Number of DFA nodes merged   = 0
Number of ifs generated      = 0
Number of switches generated = 0
Number of labels             = 0
Number of gotos              = 0
Adaptive matching            = disabled
Fast string matching         = disabled
Inline downcasts             = disabled
--------------------------------------------------------------------------
*/
